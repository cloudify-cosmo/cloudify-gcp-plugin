tosca_definitions_version: cloudify_dsl_1_3

imports:
  - http://cloudify.co/spec/cloudify/4.5/types.yaml
  - plugin:cloudify-gcp-plugin

inputs:

  zone:
    type: string
    default: { get_secret: zone }

  project_name:
    type: string

  project_id:
    type: string
    default: { get_secret: project_id }

dsl_definitions:

  client_config: &gcp_config
    auth: { get_secret: gcp_credentials }
    zone: { get_input: zone }

node_templates:

  project:
    type: cloudify.gcp.project
    properties:
      gcp_config: *gcp_config
      name: { get_input: project_name }
      id: { get_input: project_id }
